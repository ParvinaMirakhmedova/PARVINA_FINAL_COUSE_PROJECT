# Проект

## Эпидемиологическая характеристика пациентов с сахарным диабетом разных типов в РТ.
  ### Исполнитель: Мирахмедова Парвина 

Проведение EDA анализа


  **Цель проекта**: сравнительная характеристика пациентов с сахарным диабетом разных типов в РТ на основе данных пациентов, находящихся на диспансерном учете в Республиканском эндокринологическом диспансере в 2012 году (материал кандидатской диссертации)

Датасет включает в себя вручную собранные данные о пациентах, находящихся на диспансерном учете в Республиканском эндокринологическом диспансере в 2012 году (материал кандидатской диссертации). 

Датасет состоит из 3 листов, каждый из которых включает в себя по одной таблице:

* Лист 1 - "Patients", включающий 7 колонок: Patient_ID,	Name,	Sex,	Address,	Level of Education,	Occupation,	Age in years.
* Лист 2 - 'Diseases", включающий 5 колонок: Patient_ID,	Nephropathy,	Neuropathy,	Smoking,	BMI.
* Лист 3 - 'Diabetic retinipathy", включающий 8 колонок: Patient_ID,	Name,	DM type,	Renal function,	Duration of DM,	Diabetic retinopathy,	Fasting blood glucose,	Hereditary.

Число строк -376 

 *** Характеристика столбцов***

 * *Patient_ID* - ID  пациента\(0-375), int64

 * *Name* - имя и фамилия пациента, категориальный (object)

 * *Sex* - пол пациента\(мужчина, женщина), категориальный (object)

 * *Address* - адрес пациента\ категориальный (object)

 * *Level of Education* - уровень образования\ ['high' 'undergraduate' nan], категориальный (object)

* *Occupation* - профессия\ категориальный (object)

* *Age in years* - возраст на момент осмотра\ (2-81), int64

* *Nephropathy* - наличие диабетической нефропатии, т.е. поражение почек вследствие сахарного диабета\ ['yes' 'no'], категориальный (object)

* *Neuropathy* - наличие диабетической нейропатии, т.е. поражение периферических нервов вследствие сахарного диабета\ ['yes' 'no'], категориальный (object)

* *Smoking* - курит ли пациент\ ['yes' 'no'], категориальный (object)

* *BMI* - индекс массы тела (ИМТ) как показатель ожирения (Недостаточный вес: ИМТ менее 18,5. Нормальный вес: ИМТ от 18,5 до 24,9. Избыточный вес: ИМТ от 25 до 29,9. Ожирение: ИМТ от 30 и выше.)\ (13.6 - 46.4), float64

* *DM type* - тип сахарного диабета: инсулиннезависимый сахарный диабет (1го типа) и инсулинзависимый сахарный диабет (2го типа) \ ['NIDDM' 'IDDM' nan], категориальный (object)

* *Renal function* - сохранение фильтрационной функции почек (наличие почечной недостаточности) \ ['impaired' 'saved' 'non-specified' nan], категориальный (object)

* *Duration of DM* - год постановки диагноза (длительность диабета)\ (1985 - 2016), int64

* *Diabetic retinopathy* - наличие диабетической ретинопатии, т.е. специфическое повреждение сетчатки глаза вследствие сахарного диабета, потенциально приводящее к тяжелым нарушениям зрительных функций вполь то слепоты\ ['Severe non-PDR' 'Mild non-PDR' 'Moderate non-PDR' 'no' 'PDR'], категориальный (object)

* *Fasting blood glucose* - уровень глюкозы крови натощак\ (4.0 - 19.0), float64

* *Hereditary* - имел ли кто из родителей сахарный диабет\ ['yes' 'no'], категориальный (object), 




### Метрики

1. *Среднее уровня глюкозы натощак у пациентов с СД*
2. *корреляция между ИМТ и датой постановки диагноза ИМТ*
3. *корреляция между ИМТ и СД 1 го типа*
4. *мера размаха возраста*
5. *Медиана возраста пациентов*
6. *Стандартное отклонение уровня глюкозы натощак* — мера разброса данных вокруг среднего значения. Чем выше стандартное отклонение, тем больше вариативность данных.
7. *Дисперсия уровня глюкозы натощак*— это квадрат стандартного отклонения. Используется для оценки разброса значений в выборке.

Обработка данных


**Пропущенные значения:**
У нас есть пропущенные значения в столбцах Address и Level of Education. 

**Address** (0.8% пропусков): заполним пропуски самым частым значением (модой), т.к.пропусков очень мало. Заполнение пропусков самым частым значением (модой) будет логичным,поскольку, скорее всего, большинство пациентов проживает в одном и том же городе. 
Это также помогает сохранить структуру данных, не добавляя значительных искажений.
**Level of Education** (3.2% пропусков): заполним пропуски значением "non-specified",чтобы не искажать структуру данных

У нас есть пропущенные значения в столбце **BMI**, которые составляют 30% от общего значения. Заменим их медианой, так как BMI часто имеет асимметричное распределение и медиана может быть более подходящей для предотвращения искажения данных, чем среднее значение.

У нас пропущены значения в столбцах **DM type**, **Renal function**, **Fasting blood glucose**.
Заполняем пропуски в **DM type**, **Renal function** модой, так как доля пропусков минимальна.
Заполняем пропуски в **Fasting blood glucose** медианой, так как могут быть разбросы или может быть асимметричное распределение данных и мы можем исказить структуру данных.



**Дубликаты:**

Не обнаружены дубликаты.

### **Выбросы:**

* Наличие выбросов (насколько значение отклоняется от среднего или медианы). Проверяем только числовые переменные: age, bmi,fbg. Проверяем нормальность распределения по методу Шапиро-Уилка и в случае ненормальности распределения считаем vежквартильный размах,а не z-score. 

Статистика Шапиро-Уилка: 0.9873
p-value: 0.00220
Распределение статистически отличается от нормального.
Выбросы по методу IQR:
Q1 = 7.90
Q3 = 11.50
IQR = 3.60
Границы: [2.50, 16.90]
Количество выбросов: 4
Name: fasting_blood_glucose, dtype: float64
**Вывод. Выбросы не удаляем, так как это медицинские данные. Оставляем все как есть, но используем нечувствительные к выбросам статистические методы.**

Статистика Шапиро-Уилка: 0.9446
p-value: 0.00000
Распределение статистически отличается от нормального.
Выбросы по методу IQR:
Q1 = 26.40
Q3 = 30.20
IQR = 3.80
Границы: [20.70, 35.90]
Количество выбросов: 46
Name: bmi, dtype: float64
**Вывод. Выбросы не удаляем, так как это медицинские данные. Оставляем все как есть, но используем нечувствительные к выбросам статистические методы.**

Статистика Шапиро-Уилка: 0.8692
p-value: 0.00000
Распределение статистически отличается от нормального.
Выбросы по методу IQR:
Q1 = 47.00
Q3 = 64.00
IQR = 17.00
Границы: [21.50, 89.50]
Количество выбросов: 53
Name: age_in_years, dtype: int64
**Вывод. Выбросы не удаляем, так как это медицинские данные. Оставляем все как есть, но используем нечувствительные к выбросам статистические методы.**



## Статистика,гипотезы.

### Цель: проверить, зависят ли категории dm_type и hereditary друг от друга. 
Метод: χ²-тест на независимость.

**Вывод: Есть статистически значимая связь между типом диабета и наследственностью.**

### Цель: узнать отличается ли уровень глюкозы натощак у пациентов с сохраненной и нарушенной функцией почек.
Метод: Однофакторный дисперсионный анализ (ANOVA).
 **Вывод: Уровень FBG статистически значимо различается между группами.**

## Анализ данных

Был создан объединенный датафрейм merged_df.

**Гистограмма**
x = "bmi"    
`Описание:` *Распределение BMI**
`Вывод:`Этот график может свидетельствовать о повышенной распространенности избыточного веса или ожирения в рассматриваемой популяции.

**Гистограмма**
x = "fasting blood glucose"    
`Описание:`**Распределение уровня глюкозы натощак**:
'Вывод' : Диаграмма показывает распределение уровня глюкозы в крови натощак (Fasting Blood Glucose в ммоль/л).Большинство значений уровня глюкозы находятся в диапазоне от 6 до 10 ммоль/л, с пиком на уровне около 8 ммоль/л, что свидетельствует о концентрации данных в этом интервале.

**Диаграмма рассеяния**
x = "bmi"
y = "fbg"
hue ="sex"
'Описание': **Диаграмма рассеяния зависимости индекса массы тела и уровня глюкозы натощак**
Вывод: 
**Женщины** (отмечены зелёными точками) и **мужчины** (отмечены оранжевыми точками) распределяются достаточно равномерно по всему диапазону значений BMI. В целом, для обеих групп уровень глюкозы натощак варьируется между 4 и 18 мг/дл, но с увеличением BMI наблюдается тенденция к увеличению уровня глюкозы натощак. Это может говорить о том, что люди с более высоким BMI имеют более высокие уровни глюкозы.
**Корреляция**:
   - **Положительная корреляция** между BMI и уровнем глюкозы натощак: люди с более высоким BMI, как правило, имеют более высокие уровни глюкозы.
   - Это может быть связано с метаболическими нарушениями, часто встречающимися у людей с ожирением.
**Половые различия в уровне глюкозы**:
   - Кажется, что женщины и мужчины имеют схожие уровни глюкозы на разных значениях BMI, но не исключено, что могут быть некоторые различия на конкретных уровнях, которые требуют более детального анализа.

Это может свидетельствовать о важности контроля уровня глюкозы и поддержания здорового веса для предотвращения развития диабета. 

## ---

Заключение

После завершения EDA соберите все полученные метрики, интерпретации графиков и ключевые выводы. Напишите краткое заключение, которое подводит итоги вашего анализа.

**Рекомендации для заключения:**

* Укажите основные тенденции, обнаруженные в данных.  
* Подчеркните аномалии или неожиданные результаты.  
* Приведите рекомендации или возможные направления для дальнейших исследований.